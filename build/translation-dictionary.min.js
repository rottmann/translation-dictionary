/*! translation-dictionary v0.1.1 | https://github.com/rottmann/translation-dictionary | Peter Rottmann <rottmann@inveris.de> | MIT */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.TranslationDictionary=e():t.TranslationDictionary=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";t.exports=r(1)},function(t,e,r){"use strict";var n=r(2).EventEmitter3,i=r(3),s=r(4).sprintf,o=r(4).vsprintf;Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&t>-9007199254740992&&9007199254740992>t&&Math.floor(t)===t}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var a="en",c=2,l=1,u=function(){this.baseLocale=a,this.baseNPlurals=c,this.cache={},this.dict={},this.locale=a,this.nPlurals={},this.pluralizers={},this._createDictionary(this.baseLocale)};i(u,n),u.prototype.getLocale=function(){return this.locale},u.prototype.registerPluralizer=function(t,e,r){this.pluralizers[t]=e,this.nPlurals[t]=r||c,this.cache={},this.emit("registerPluralizer",t,e)},u.prototype.registerTranslation=function(t,e){this._createDictionary(t);for(var r in e)this.dict[t][r]=e[r];this.emit("registerTranslation",t),t===this.locale&&t!==this.baseLocale&&this.emit("changeTranslation",t)},u.prototype.setBaseLocale=function(t,e){this.baseLocale=t,this.baseNPlurals=e||c,this._createDictionary(t),this.emit("changeBaseLocale",t)},u.prototype.setLocale=function(t){if(t!==this.locale){if(!this.dict[t])throw new Error("[dict] setLocale is called for an unregistered translation");this.locale=t,this.cache={},this.emit("changeLocale",t)}},u.prototype.translate=function(){return this._translate(arguments)},u.prototype.__=function(){return this._translate(arguments)},u.prototype.translatePlural=function(){return this._translate(arguments,!0)},u.prototype._p=function(){return this._translate(arguments,!0)},u.prototype._translate=function(t,e){var r=JSON.stringify(arguments);if(r in this.cache)return this.cache[r];var n,i,a=0,c=this.baseNPlurals;if(e){if(!(t.length>=c))throw new Error("[dict] plural string and numeric value are missing for '"+t[0]+"'");if("string"!=typeof t[c-1])throw new Error("[dict] parameter "+c+" for plural must be a string for '"+t[0]+"'");if(n=t.length>c+1?Array.prototype.slice.call(t,c):t[c],Number.isInteger(n))i=n;else{if(Array.isArray(n)){if(!n[0])throw new Error("[dict] parameter array is empty for '"+t[0]+"'");i=n[0]}else if("object"==typeof n){if(!n.count)throw new Error("[dict] numeric object.count is missing for '"+t[0]+"'");i=n.count}if(!Number.isInteger(i))throw new Error("[dict] numeric value is missing for '"+t[0]+"'")}a=this._pluralize(this.baseLocale,i)}else n=t.length>c?Array.prototype.slice.call(t,c-1):t[c-1];var l=t[a];if(this.locale!==this.baseLocale){var u=this.dict[this.locale][l];if(u)if("string"==typeof u)l=u;else{var f=this._pluralize(this.locale,i);u.length>=f?l=u[f-1]:this.emit("missingPluralTranslation",l,this.locale)}else this.emit("missingTranslation",l,this.locale)}return"undefined"!=typeof n&&(l=Array.isArray(n)?o(l,n):s(l,n)),this.cache[r]=l,l},u.prototype._createDictionary=function(t){this.dict[t]||(this.dict[t]={}),this.pluralizers[t]||this.registerPluralizer(t,l),this.cache={}},u.prototype._pluralize=function(t,e){var r=this.pluralizers[t];return"function"==typeof r?r.call(this,e):e!==r?1:0},u.prototype.emmit=function(){},t.exports=u},function(t){"use strict";function e(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function r(){}r.prototype._events=void 0,r.prototype.listeners=function(t){if(!this._events||!this._events[t])return[];if(this._events[t].fn)return[this._events[t].fn];for(var e=0,r=this._events[t].length,n=new Array(r);r>e;e++)n[e]=this._events[t][e].fn;return n},r.prototype.emit=function(t,e,r,n,i,s){if(!this._events||!this._events[t])return!1;var o,a,c=this._events[t],l=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(t,c.fn,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,n),!0;case 5:return c.fn.call(c.context,e,r,n,i),!0;case 6:return c.fn.call(c.context,e,r,n,i,s),!0}for(a=1,o=new Array(l-1);l>a;a++)o[a-1]=arguments[a];c.fn.apply(c.context,o)}else{var u,f=c.length;for(a=0;f>a;a++)switch(c[a].once&&this.removeListener(t,c[a].fn,!0),l){case 1:c[a].fn.call(c[a].context);break;case 2:c[a].fn.call(c[a].context,e);break;case 3:c[a].fn.call(c[a].context,e,r);break;default:if(!o)for(u=1,o=new Array(l-1);l>u;u++)o[u-1]=arguments[u];c[a].fn.apply(c[a].context,o)}}return!0},r.prototype.on=function(t,r,n){var i=new e(r,n||this);return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],i]:this._events[t].push(i):this._events[t]=i,this},r.prototype.once=function(t,r,n){var i=new e(r,n||this,!0);return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],i]:this._events[t].push(i):this._events[t]=i,this},r.prototype.removeListener=function(t,e,r){if(!this._events||!this._events[t])return this;var n=this._events[t],i=[];if(e&&(n.fn&&(n.fn!==e||r&&!n.once)&&i.push(n),!n.fn))for(var s=0,o=n.length;o>s;s++)(n[s].fn!==e||r&&!n[s].once)&&i.push(n[s]);return i.length?this._events[t]=1===i.length?i[0]:i:delete this._events[t],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[t]:this._events={},this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.EventEmitter=r,r.EventEmitter2=r,r.EventEmitter3=r,t.exports=r},function(t){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){!function(t){function r(){var t=arguments[0],e=r.cache;return e[t]&&e.hasOwnProperty(t)||(e[t]=r.parse(t)),r.format.call(null,e[t],arguments)}function n(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function i(t,e){return Array(e+1).join(t)}var s={not_string:/[^s]/,number:/[dief]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fiosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};r.format=function(t,e){var o,a,c,l,u,f,h,p=1,y=t.length,g="",v=[],m=!0,d="";for(a=0;y>a;a++)if(g=n(t[a]),"string"===g)v[v.length]=t[a];else if("array"===g){if(l=t[a],l[2])for(o=e[p],c=0;c<l[2].length;c++){if(!o.hasOwnProperty(l[2][c]))throw new Error(r("[sprintf] property '%s' does not exist",l[2][c]));o=o[l[2][c]]}else o=l[1]?e[l[1]]:e[p++];if("function"==n(o)&&(o=o()),s.not_string.test(l[8])&&"number"!=n(o)&&isNaN(o))throw new TypeError(r("[sprintf] expecting number but found %s",n(o)));switch(s.number.test(l[8])&&(m=o>=0),l[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":case"i":o=parseInt(o,10);break;case"e":o=l[7]?o.toExponential(l[7]):o.toExponential();break;case"f":o=l[7]?parseFloat(o).toFixed(l[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&l[7]?o.substring(0,l[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}!s.number.test(l[8])||m&&!l[3]?d="":(d=m?"+":"-",o=o.toString().replace(s.sign,"")),f=l[4]?"0"===l[4]?"0":l[4].charAt(1):" ",h=l[6]-(d+o).length,u=l[6]&&h>0?i(f,h):"",v[v.length]=l[5]?d+o+u:"0"===f?d+u+o:u+d+o}return v.join("")},r.cache={},r.parse=function(t){for(var e=t,r=[],n=[],i=0;e;){if(null!==(r=s.text.exec(e)))n[n.length]=r[0];else if(null!==(r=s.modulo.exec(e)))n[n.length]="%";else{if(null===(r=s.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){i|=1;var o=[],a=r[2],c=[];if(null===(c=s.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=c[1];""!==(a=a.substring(c[0].length));)if(null!==(c=s.key_access.exec(a)))o[o.length]=c[1];else{if(null===(c=s.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=c[1]}r[2]=o}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=r}e=e.substring(r[0].length)}return n};var o=function(t,e,n){return n=(e||[]).slice(0),n.splice(0,0,t),r.apply(null,n)};e.sprintf=r,e.vsprintf=o}("undefined"==typeof window?this:window)}])});
//# sourceMappingURL=translation-dictionary.min.js.map